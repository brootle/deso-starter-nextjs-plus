(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[56],{2138:(e,s,n)=>{Promise.resolve().then(n.bind(n,8902)),Promise.resolve().then(n.bind(n,7252)),Promise.resolve().then(n.bind(n,6715)),Promise.resolve().then(n.bind(n,382)),Promise.resolve().then(n.bind(n,8822)),Promise.resolve().then(n.bind(n,2490)),Promise.resolve().then(n.bind(n,5041)),Promise.resolve().then(n.bind(n,9138)),Promise.resolve().then(n.bind(n,1610)),Promise.resolve().then(n.bind(n,5838)),Promise.resolve().then(n.bind(n,5490)),Promise.resolve().then(n.bind(n,1142)),Promise.resolve().then(n.bind(n,3666)),Promise.resolve().then(n.bind(n,6584)),Promise.resolve().then(n.t.bind(n,7405,23))},5981:e=>{e.exports={fabContainer:"UserQuickLinks_fabContainer__Q5xv3",fabButton:"UserQuickLinks_fabButton__1Oocl",fabIconClose:"UserQuickLinks_fabIconClose__vXLbD",fabIconMenu:"UserQuickLinks_fabIconMenu__9tMCF",menuWrapper:"UserQuickLinks_menuWrapper__ma7Bq",dropdown:"UserQuickLinks_dropdown__snFr7",linksSection:"UserQuickLinks_linksSection__c4A7M",menuOpen:"UserQuickLinks_menuOpen__hJ9GZ",menuClosed:"UserQuickLinks_menuClosed__XJmw7",avatarWrapper:"UserQuickLinks_avatarWrapper__wP_nJ",link:"UserQuickLinks_link__iEXZL",active:"UserQuickLinks_active__ZZ2TW"}},6584:(e,s,n)=>{"use strict";n.d(s,{PostsPageClient:()=>_});var r=n(5155),i=n(9644),o=n(7183),a=n(5838),t=n(8822),l=n(2115),c=n(3721),d=n(7257),u=n(8725),h=n(6767),p=n.n(h);let _=e=>{let{rawParam:s}=e,n=(0,o.b)(s),h=n?s:s.startsWith("@")?s.slice(1):s,{getSingleProfile:_,getPostsStateless:m}=(0,i.P)(),{data:v,isLoading:f,isError:b,error:P}=(0,a.useQuery)({queryKey:n?d.lH.profileByPublicKey(s):d.lH.profileByUsername(h),queryFn:async()=>{var e;let r=n?await _({PublicKeyBase58Check:s}):await _({Username:h});if(!r.success||!(null===(e=r.data)||void 0===e?void 0:e.Profile))throw Error(r.error||"Failed to load profile");return r.data.Profile}}),{data:k,fetchNextPage:x,hasNextPage:w,isFetchingNextPage:C,isLoading:g,error:L}=(0,t.useInfiniteQuery)({queryKey:d.lH.followFeedPosts(n?h:null==v?void 0:v.PublicKeyBase58Check),queryFn:async e=>{let{pageParam:s=""}=e,r=await m({ReaderPublicKeyBase58Check:n?h:null==v?void 0:v.PublicKeyBase58Check,GetPostsForFollowFeed:!0,PostHashHex:s,NumToFetch:10});if(!r.success)throw Error(r.error||"Failed to fetch posts");return r.data},getNextPageParam:e=>{var s;let n=(null==e?void 0:e.PostsFound)||[];return n.length<10?void 0:null===(s=n.at(-1))||void 0===s?void 0:s.PostHashHex},enabled:!!(n?h:null==v?void 0:v.PublicKeyBase58Check),staleTime:3e4}),j=(0,l.useRef)(null);if((0,l.useEffect)(()=>{if(!w||C)return;let e=new IntersectionObserver(e=>{e[0].isIntersecting&&x()},{rootMargin:"200px 0px",threshold:0}),s=j.current;return s&&e.observe(s),()=>{s&&e.unobserve(s)}},[w,C,x]),g)return(0,r.jsx)("p",{children:"Loading posts..."});if(L)return(0,r.jsx)("p",{style:{color:"red"},children:L.message});let y=(null==k?void 0:k.pages.flatMap(e=>e.PostsFound||[]))||[];return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(u.M,{profile:v,rawParam:s}),0===y.length&&(0,r.jsx)("p",{children:"No posts found."}),(0,r.jsx)("div",{className:p().postsContainer,children:y.map(e=>(0,r.jsx)("div",{children:(0,r.jsx)(c.L,{post:e})},e.PostHashHex))}),(0,r.jsx)("div",{ref:j,style:{height:"1px"}}),C&&(0,r.jsx)("p",{children:"Loading more..."})]})}},6767:e=>{e.exports={pageContainer:"page_pageContainer___gq65",postsContainer:"page_postsContainer__dxG8I"}},7405:e=>{e.exports={page:"Page_page__6ZDsr",noPadding:"Page_noPadding__szQIs"}},8725:(e,s,n)=>{"use strict";n.d(s,{M:()=>m});var r=n(5155),i=n(2115),o=n(6874),a=n.n(o),t=n(5695),l=n(9300),c=n.n(l),d=n(9987),u=n(5146),h=n(5781),p=n(5981),_=n.n(p);let m=e=>{let{profile:s,rawParam:n}=e,o=(0,t.usePathname)(),[l,p]=(0,i.useState)(!1),m=encodeURIComponent(n),v=(0,i.useRef)(null),f=(0,i.useRef)(null);return(0,i.useEffect)(()=>{let e=window.scrollY,s=0,n=()=>{let n=window.scrollY;s+=Math.abs(n-e),l&&s>30&&(p(!1),s=0),e=n};return l&&(s=0,e=window.scrollY),window.addEventListener("scroll",n,{passive:!0}),()=>window.removeEventListener("scroll",n)},[l]),(0,u.L)([v,f],()=>{l&&p(!1)}),(0,r.jsxs)("div",{className:_().fabContainer,children:[(0,r.jsxs)("button",{ref:f,onClick:()=>{p(e=>!e)},className:_().fabButton,children:[l?(0,r.jsx)("span",{className:_().fabIconClose,children:"\xd7"}):(0,r.jsx)("span",{className:_().fabIconMenu,children:"â˜°"})," "]}),(0,r.jsx)("div",{ref:v,className:c()(_().menuWrapper,{[_().menuOpen]:l,[_().menuClosed]:!l}),children:(0,r.jsxs)(h.m,{className:_().dropdown,children:[(0,r.jsx)(a(),{href:"/".concat(m),className:_().avatarWrapper,onClick:()=>p(!1),children:(0,r.jsx)(d.e,{profile:s,size:"medium"})}),(0,r.jsx)("div",{className:_().linksSection,children:[{label:"\uD83D\uDCDD User Posts",href:"/".concat(m,"/posts")},{label:"\uD83D\uDE42 Follow Feed",href:"/".concat(m,"/feed")},{label:"\uD83D\uDD14 Notifications",href:"/".concat(m,"/notifications")}].map(e=>{let{label:s,href:n}=e;return(0,r.jsx)(a(),{href:n,onClick:()=>p(!1),className:c()(_().link,{[_().active]:o===n}),children:s},s)})})]})})]})}}},e=>{var s=s=>e(e.s=s);e.O(0,[889,829,221,231,272,545,9,866,729,799,161,414,578,374,441,684,358],()=>s(2138)),_N_E=e.O()}]);